(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{590:function(t,s,e){"use strict";e.r(s);var a=e(17),v=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"into-语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#into-语法"}},[t._v("#")]),t._v(" Into 语法")]),t._v(" "),e("p",[t._v("通过 SQL，您可以从一个表复制信息到另一个表。")]),t._v(" "),e("p",[t._v("SELECT INTO 语句从一个表复制数据，然后把数据插入到另一个新表中。")]),t._v(" "),e("p",[t._v("INSERT INTO SELECT 语句从一个表复制数据，然后把数据插入到一个已存在的表中。")]),t._v(" "),e("h2",{attrs:{id:"演示数据库-websites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#演示数据库-websites"}},[t._v("#")]),t._v(" 演示数据库 Websites")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("id")]),t._v(" "),e("th",[t._v("name")]),t._v(" "),e("th",[t._v("url")]),t._v(" "),e("th",[t._v("alexa")]),t._v(" "),e("th",[t._v("country")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("Google")]),t._v(" "),e("td",[t._v("https://www.google.cm/")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("USA")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("淘宝")]),t._v(" "),e("td",[t._v("https://www.taobao.com/")]),t._v(" "),e("td",[t._v("13")]),t._v(" "),e("td",[t._v("CN")])]),t._v(" "),e("tr",[e("td",[t._v("3")]),t._v(" "),e("td",[t._v("菜鸟教程")]),t._v(" "),e("td",[t._v("http://www.runoob.com/")]),t._v(" "),e("td",[t._v("4689")]),t._v(" "),e("td",[t._v("CN")])]),t._v(" "),e("tr",[e("td",[t._v("4")]),t._v(" "),e("td",[t._v("微博")]),t._v(" "),e("td",[t._v("http://weibo.com/")]),t._v(" "),e("td",[t._v("20")]),t._v(" "),e("td",[t._v("CN")])]),t._v(" "),e("tr",[e("td",[t._v("5")]),t._v(" "),e("td",[t._v("Facebook")]),t._v(" "),e("td",[t._v("https://www.facebook.com/")]),t._v(" "),e("td",[t._v("3")]),t._v(" "),e("td",[t._v("USA")])]),t._v(" "),e("tr",[e("td",[t._v("7")]),t._v(" "),e("td",[t._v("stackoverflow")]),t._v(" "),e("td",[t._v("http://stackoverflow.com/")]),t._v(" "),e("td",[t._v("0")]),t._v(" "),e("td",[t._v("IND")])])])]),t._v(" "),e("p",[t._v('下面是 "apps" APP 的数据：')]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("id")]),t._v(" "),e("th",[t._v("app_name")]),t._v(" "),e("th",[t._v("url")]),t._v(" "),e("th",[t._v("country")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("QQ APP")]),t._v(" "),e("td",[t._v("http://im.qq.com/")]),t._v(" "),e("td",[t._v("CN")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("微博 APP")]),t._v(" "),e("td",[t._v("http://weibo.com/")]),t._v(" "),e("td",[t._v("CN")])]),t._v(" "),e("tr",[e("td",[t._v("3")]),t._v(" "),e("td",[t._v("淘宝 APP")]),t._v(" "),e("td",[t._v("https://www.taobao.com/")]),t._v(" "),e("td",[t._v("CN")])])])]),t._v(" "),e("h2",{attrs:{id:"语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),e("h3",{attrs:{id:"_1-select-into-实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-select-into-实例"}},[t._v("#")]),t._v(" 1. SELECT INTO 实例")]),t._v(" "),e("p",[t._v("创建 Websites 的备份复件：")]),t._v(" "),e("div",{staticClass:"language-s line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("SELECT *\nINTO WebsitesBackup2016\nFROM Websites;\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("只复制一些列插入到新表中：")]),t._v(" "),e("div",{staticClass:"language-s line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("SELECT name, url\nINTO WebsitesBackup2016\nFROM Websites;\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("只复制中国的网站插入到新表中：")]),t._v(" "),e("div",{staticClass:"language-s line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("SELECT *\nINTO WebsitesBackup2016\nFROM Websites\nWHERE country='CN';\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("复制多个表中的数据插入到新表中：")]),t._v(" "),e("div",{staticClass:"language-s line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("SELECT Websites.name, access_log.count, access_log.date\nINTO WebsitesBackup2016\nFROM Websites\nLEFT JOIN access_log\nON Websites.id=access_log.site_id;\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"_2-insert-into-select-实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-insert-into-select-实例"}},[t._v("#")]),t._v(" 2. INSERT INTO SELECT 实例")]),t._v(" "),e("p",[t._v('复制 "apps" 中的数据插入到 "Websites" 中：')]),t._v(" "),e("div",{staticClass:"language-实例 line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("INSERT INTO Websites (name, country)\nSELECT app_name, country FROM apps;\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v('只复 QQ 的 APP 到 "Websites" 中：')]),t._v(" "),e("div",{staticClass:"language-实例 line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("INSERT INTO Websites (name, country)\nSELECT app_name, country FROM apps\nWHERE id=1;\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h2",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),e("p",[t._v("MySQL 数据库不支持 SELECT ... INTO 语句，但支持 INSERT INTO ... SELECT 。")]),t._v(" "),e("p",[t._v("当然你可以使用以下语句来拷贝表结构及数据：")]),t._v(" "),e("div",{staticClass:"language-s line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("CREATE TABLE 新表\nAS\nSELECT * FROM 旧表\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])])}),[],!1,null,null,null);s.default=v.exports}}]);