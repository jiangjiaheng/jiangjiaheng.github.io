(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{453:function(a,e,n){"use strict";n.r(e);var s=n(17),t=Object(s.a)({},(function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"navigator-对象-screen-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#navigator-对象-screen-对象"}},[a._v("#")]),a._v(" Navigator 对象，Screen 对象")]),a._v(" "),n("h2",{attrs:{id:"navigator-对象的属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#navigator-对象的属性"}},[a._v("#")]),a._v(" Navigator 对象的属性")]),a._v(" "),n("h3",{attrs:{id:"_1-navigator-useragent"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-navigator-useragent"}},[a._v("#")]),a._v(" 1. Navigator.userAgent")]),a._v(" "),n("p",[a._v("navigator.userAgent属性返回浏览器的 User Agent 字符串，表示浏览器的厂商和版本信息。")]),a._v(" "),n("p",[a._v("下面是 Chrome 浏览器的userAgent。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('navigator.userAgent\n// "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36"\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("通过userAgent可以大致准确地识别手机浏览器，方法就是测试是否包含mobi字符串。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("var ua = navigator.userAgent.toLowerCase();\n\nif (/mobi/i.test(ua)) {\n  // 手机浏览器\n} else {\n  // 非手机浏览器\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("p",[a._v("如果想要识别所有移动设备的浏览器，可以测试更多的特征字符串。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("/mobi|android|touch|mini/i.test(ua)\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-navigator-plugins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-navigator-plugins"}},[a._v("#")]),a._v(" 2. Navigator.plugins")]),a._v(" "),n("p",[a._v("Navigator.plugins属性返回一个类似数组的对象，成员是 Plugin 实例对象，表示浏览器安装的插件，比如 Flash、ActiveX 等。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("var pluginsLength = navigator.plugins.length;\n\nfor (var i = 0; i < pluginsLength; i++) {\n  console.log(navigator.plugins[i].name);\n  console.log(navigator.plugins[i].filename);\n  console.log(navigator.plugins[i].description);\n  console.log(navigator.plugins[i].version);\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br")])]),n("h3",{attrs:{id:"_3-navigator-platform"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-navigator-platform"}},[a._v("#")]),a._v(" 3. Navigator.platform")]),a._v(" "),n("p",[a._v("Navigator.platform属性返回用户的操作系统信息，比如MacIntel、Win32、Linux x86_64等 。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('navigator.platform\n// "Linux x86_64"\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-navigator-online"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-navigator-online"}},[a._v("#")]),a._v(" 4. Navigator.onLine")]),a._v(" "),n("p",[a._v("navigator.onLine属性返回一个布尔值，表示用户当前在线还是离线（浏览器断线）。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("navigator.onLine // true\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("有时，浏览器可以连接局域网，但是局域网不能连通外网。这时，有的浏览器的onLine属性会返回true，所以不能假定只要是true，用户就一定能访问互联网。不过，如果是false，可以断定用户一定离线。")]),a._v(" "),n("p",[a._v("用户变成在线会触发online事件，变成离线会触发offline事件，可以通过window.ononline和window.onoffline指定这两个事件的回调函数。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("window.addEventListener('offline', function(e) { console.log('offline'); });\nwindow.addEventListener('online', function(e) { console.log('online'); });\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h3",{attrs:{id:"_5-navigator-language-navigator-languages"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-navigator-language-navigator-languages"}},[a._v("#")]),a._v(" 5. Navigator.language，Navigator.languages")]),a._v(" "),n("p",[a._v("Navigator.language属性返回一个字符串，表示浏览器的首选语言。该属性只读。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('navigator.language // "en"\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("Navigator.languages属性返回一个数组，表示用户可以接受的语言。Navigator.language总是这个数组的第一个成员。HTTP 请求头信息的Accept-Language字段，就来自这个数组。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('navigator.languages  // ["en-US", "en", "zh-CN", "zh", "zh-TW"]\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("如果这个属性发生变化，就会在window对象上触发languagechange事件。")]),a._v(" "),n("h3",{attrs:{id:"_6-navigator-geolocation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-navigator-geolocation"}},[a._v("#")]),a._v(" 6. Navigator.geolocation")]),a._v(" "),n("p",[a._v("Navigator.geolocation属性返回一个 Geolocation 对象，包含用户地理位置的信息。注意，该 API 只有在 HTTPS 协议下可用，否则调用下面方法时会报错。")]),a._v(" "),n("p",[a._v("Geolocation 对象提供下面三个方法。")]),a._v(" "),n("ul",[n("li",[n("code",[a._v("Geolocation.getCurrentPosition()")]),a._v("：得到用户的当前位置")]),a._v(" "),n("li",[n("code",[a._v("Geolocation.watchPosition()")]),a._v("：监听用户位置变化")]),a._v(" "),n("li",[n("code",[a._v("Geolocation.clearWatch()")]),a._v("：取消watchPosition()方法指定的监听函数")])]),a._v(" "),n("p",[a._v("注意，调用这三个方法时，浏览器会跳出一个对话框，要求用户给予授权。")]),a._v(" "),n("h3",{attrs:{id:"_7-navigator-cookieenabled"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-navigator-cookieenabled"}},[a._v("#")]),a._v(" 7. Navigator.cookieEnabled")]),a._v(" "),n("p",[a._v("Navigator.cookieEnabled属性返回一个布尔值，表示浏览器的 Cookie 功能是否打开。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("navigator.cookieEnabled // true\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("注意，这个属性反映的是浏览器总的特性，与是否储存某个具体的网站的 Cookie 无关。用户可以设置某个网站不得储存 Cookie，这时cookieEnabled返回的还是true。")]),a._v(" "),n("h2",{attrs:{id:"navigator-对象的方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#navigator-对象的方法"}},[a._v("#")]),a._v(" Navigator 对象的方法")]),a._v(" "),n("h3",{attrs:{id:"_1-navigator-javaenabled"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-navigator-javaenabled"}},[a._v("#")]),a._v(" 1. Navigator.javaEnabled()")]),a._v(" "),n("p",[a._v("Navigator.javaEnabled()方法返回一个布尔值，表示浏览器是否能运行 Java Applet 小程序。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("navigator.javaEnabled() // false\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-navigator-sendbeacon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-navigator-sendbeacon"}},[a._v("#")]),a._v(" 2. Navigator.sendBeacon()")]),a._v(" "),n("p",[a._v("Navigator.sendBeacon()方法用于向服务器异步发送数据，详见《XMLHttpRequest 对象》一章。")]),a._v(" "),n("h2",{attrs:{id:"screen-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#screen-对象"}},[a._v("#")]),a._v(" Screen 对象")]),a._v(" "),n("p",[a._v("Screen 对象表示当前窗口所在的屏幕，提供显示设备的信息。window.screen属性指向这个对象。")]),a._v(" "),n("p",[a._v("该对象有下面的属性。")]),a._v(" "),n("ul",[n("li",[n("p",[a._v("Screen.height：浏览器窗口所在的屏幕的高度（单位像素）。除非调整显示器的分辨率，否则这个值可以看作常量，不会发生变化。显示器的分辨率与浏览器设置无关，缩放网页并不会改变分辨率。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.width：浏览器窗口所在的屏幕的宽度（单位像素）。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.availHeight：浏览器窗口可用的屏幕高度（单位像素）。因为部分空间可能不可用，比如系统的任务栏或者 Mac 系统屏幕底部的 Dock 区，这个属性等于height减去那些被系统组件的高度。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.availWidth：浏览器窗口可用的屏幕宽度（单位像素）。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.pixelDepth：整数，表示屏幕的色彩位数，比如24表示屏幕提供24位色彩。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.colorDepth：Screen.pixelDepth的别名。严格地说，colorDepth 表示应用程序的颜色深度，pixelDepth 表示屏幕的颜色深度，绝大多数情况下，它们都是同一件事。")])]),a._v(" "),n("li",[n("p",[a._v("Screen.orientation：返回一个对象，表示屏幕的方向。该对象的type属性是一个字符串，表示屏幕的具体方向，landscape-primary表示横放，landscape-secondary表示颠倒的横放，portrait-primary表示竖放，portrait-secondary。")])])]),a._v(" "),n("p",[a._v("下面是Screen.orientation的例子。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('window.screen.orientation\n// { angle: 0, type: "landscape-primary", onchange: null }\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("下面的例子保证屏幕分辨率大于 1024 x 768。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("if (window.screen.width >= 1024 && window.screen.height >= 768) {\n  // 分辨率不低于 1024x768\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("p",[a._v("下面是根据屏幕的宽度，将用户导向不同网页的代码。")]),a._v(" "),n("div",{staticClass:"language-nav line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("if ((screen.width <= 800) && (screen.height <= 600)) {\n  window.location.replace('small.html');\n} else {\n  window.location.replace('wide.html');\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);